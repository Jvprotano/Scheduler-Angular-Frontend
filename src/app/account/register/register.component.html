<div class="register-container">
  <div class="welcome-section text-center">
    <a class="brand-link" routerLink="/home">
      <div class="brand-icon"><i class="bi bi-scissors"></i></div>
      <h1 class="brand-text">Agende</h1>
    </a>
    <p class="welcome-text">{{ 'REGISTER.WELCOME.TITLE' | translate }}</p>
    <p class="text-muted small">{{ 'REGISTER.WELCOME.DESCRIPTION' | translate }}</p>
  </div>

  <div class="register-card">
    <form novalidate (ngSubmit)="addAccount()" [formGroup]="registerForm" class="register-form">
      <div *ngIf="errors.length > 0" class="alert alert-danger">
        <h5>{{ 'REGISTER.ERRORS.TITLE' | translate }}</h5>
        <ul><li *ngFor="let error of errors">{{ error }}</li></ul>
      </div>

      <div class="row g-2">
        <div class="col-12 col-md-6">
          <div class="form-group">
            <label class="required-label">{{ 'REGISTER.FORM.FIRST_NAME.LABEL' | translate }} </label>
            <input 
              class="form-control" 
              id="firstName" 
              type="text" 
              formControlName="firstName"
              required
              [placeholder]="'REGISTER.FORM.FIRST_NAME.PLACEHOLDER' | translate"
              [ngClass]="{'is-invalid': displayMessage['firstName'] }" />
            <div *ngIf="displayMessage['firstName']" class="invalid-feedback" [innerHTML]="displayMessage['firstName']"></div>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <div class="form-group">
            <label class="required-label">{{ 'REGISTER.FORM.LAST_NAME.LABEL' | translate }}</label>
            <input 
              class="form-control" 
              id="lastName" 
              type="text" 
              formControlName="lastName"
              [placeholder]="'REGISTER.FORM.LAST_NAME.PLACEHOLDER' | translate"
              [ngClass]="{'is-invalid': displayMessage['lastName'] }" />
            <div *ngIf="displayMessage['lastName']" class="invalid-feedback" [innerHTML]="displayMessage['lastName']"></div>
          </div>
        </div>
      </div>

      <div class="form-group mt-2">
        <label class="required-label">{{ 'REGISTER.FORM.EMAIL.LABEL' | translate }}</label>
        <div class="input-group">
          <span class="input-icon"><i class="bi bi-envelope"></i></span>
          <input 
            class="form-control" 
            id="email" 
            type="email"
            [placeholder]="'REGISTER.FORM.EMAIL.PLACEHOLDER' | translate" formControlName="email"
            [ngClass]="{'is-invalid': displayMessage['email'] }" />
        </div>
        <div *ngIf="displayMessage['email']" class="invalid-feedback" [innerHTML]="displayMessage['email']"></div>
      </div>

      <div class="form-group">
        <label class="required-label">{{ 'REGISTER.FORM.PASSWORD.LABEL' | translate }}</label>
        <div class="input-group">
          <span class="input-icon"><i class="bi bi-lock"></i></span>
          <input class="form-control" id="password"
            [type]="showPassword ? 'text' : 'password'"
            [placeholder]="'REGISTER.FORM.PASSWORD.PLACEHOLDER' | translate" formControlName="password"
            [ngClass]="{'is-invalid': displayMessage['password'] }" 
            />
                  <button type="button" class="btn-toggle-password" (click)="togglePasswordVisibility()">
            <i class="bi" [ngClass]="showPassword ? 'bi-eye-slash' : 'bi-eye'"></i>
          </button>
        </div>
        <div *ngIf="displayMessage['password']" class="invalid-feedback" [innerHTML]="displayMessage['password']"></div>
        <small class="form-text text-muted mt-1">
          {{ 'REGISTER.FORM.PASSWORD.REQUIREMENTS' | translate }}
        </small>
      </div>

      <div class="form-group">
        <label class="required-label">{{ 'REGISTER.FORM.CONFIRM_PASSWORD.LABEL' | translate }}</label>
        <div class="input-group">
          <span class="input-icon"><i class="bi bi-lock"></i></span>
          <input class="form-control" id="confirmPassword"
            [type]="showPassword ? 'text' : 'password'"
            [placeholder]="'REGISTER.FORM.CONFIRM_PASSWORD.PLACEHOLDER' | translate" formControlName="confirmPassword"
            [ngClass]="{'is-invalid': displayMessage['confirmPassword'] }" />
        </div>
        <div *ngIf="displayMessage['confirmPassword']" class="invalid-feedback" [innerHTML]="displayMessage['confirmPassword']"></div>
      </div>

      <div class="row g-2">
        <div class="col-12 col-md-6">
          <div class="form-group">
            <label>{{ 'REGISTER.FORM.PHONE.LABEL' | translate }}</label>
            <input 
              class="form-control" 
              id="phone" 
              type="text" 
              formControlName="phone"
              [placeholder]="'REGISTER.FORM.PHONE.LABEL' | translate"
              [ngClass]="{'is-invalid': displayMessage['phone'] }" />
            <div *ngIf="displayMessage['phone']" class="invalid-feedback" [innerHTML]="displayMessage['phone']"></div>
          </div>
        </div>
        <div class="col-12 col-md-6">
          <div class="form-group">
            <label>{{ 'REGISTER.FORM.BIRTH_DATE.LABEL' | translate }}</label>
            <input class="form-control" id="birthDate" type="date" formControlName="birthDate"
              [ngClass]="{'is-invalid': displayMessage['birthDate'] }" />
            <div *ngIf="displayMessage['birthDate']" class="invalid-feedback" [innerHTML]="displayMessage['birthDate']"></div>
          </div>
        </div>
      </div>

      <button class="btn btn-gradient w-100 mt-3" type="submit" [disabled]="!registerForm.valid">{{ 'REGISTER.BUTTONS.REGISTER' | translate }}</button>

      <p class="text-center mt-3 small text-muted">
        <a routerLink="/account/login" class="register-link">{{ 'REGISTER.BUTTONS.LOGIN' | translate }}</a>
      </p>
    </form>
  </div>

  <div class="decoration-circle circle-1"></div>
  <div class="decoration-circle circle-2"></div>
</div>